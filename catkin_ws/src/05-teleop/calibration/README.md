# Package `calibration` {#calibration}

<move-here src='#pkg_name-autogenerated'/>

**TO DO**
‚Åª Gracefully stop rosbag recording in compressed_image_to_world_frame.launch, so far requires hard-kill via CTRL+C.

**REQUIRED**:

To be able to run the launch file: compressed_image_to_world_frame.launch:

use local_env.sh which sets the DUCKIEFLEET_ROOT to the default location. Make sure to include your calibration folder at DUCKIEFLEET_ROOT.

Install the lastest version of the scipy, as the code uses `ivp_solver` that is introduced in scipy version v1.2.0

This package is an automatic wheels calibration procedure.

- The launchfile commands.launch sends specific voltage command to the wheels while recording images with the camera in a rosbag.

- The launchfile calibration.launch calculates the different parameters of the theoretical model that fit best the trajectory of the Duckiebot.

- The launchfile test.launch tests if the callibration has succeded or not.


## Data Acquisition

## Calibration  

### Processing Data

The data recorded during the experiment is /compressed_image, but calibration script requires /tag_detections_local_frame. To get a bag file with the correct topic.

```shell
roslaunch calibration compressed_image_to_world_frame.launch veh:=mete input_rosbag:=/home/selcuk/input.bag output_rosbag:=/home/selcuk/![OUTPUT_FILE_NAME].bag operation_mode:=1
```

Note the `operation_mode` parameters which runs the image processing pipeline in sequential mode.

## Test
